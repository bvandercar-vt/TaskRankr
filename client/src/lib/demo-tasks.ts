/**
 * @fileoverview Demo task data for guest mode.
 */

import type { TaskResponse } from '~/shared/schema'

export const createDemoTasks = (nextIdRef: {
  current: number
}): TaskResponse[] => {
  const now = new Date()

  const getNextId = () => {
    const id = nextIdRef.current--
    return id
  }

  const parentWithSubtasksId = getNextId()
  const researchSubtaskId = getNextId()
  const completedWithSubtaskId = getNextId()

  const demoTasks: TaskResponse[] = [
    {
      id: getNextId(),
      userId: 'local',
      name: 'In Progress Demo Task (hold to change)',
      description:
        'This task is currently being worked on. Hold to change status.',
      priority: 'high',
      ease: 'medium',
      enjoyment: 'medium',
      time: 'medium',
      parentId: null,
      status: 'in_progress',
      inProgressTime: 120_000,
      inProgressStartedAt: new Date(now.getTime() - 120_000),
      createdAt: new Date(now.getTime() - 300_000),
      completedAt: null,
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: getNextId(),
      userId: 'local',
      name: 'Pinned Demo Task (hold to change)',
      description: 'This task is pinned to the top. Hold to change status.',
      priority: 'medium',
      ease: 'easy',
      enjoyment: 'high',
      time: 'low',
      parentId: null,
      status: 'pinned',
      inProgressTime: 0,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 250_000),
      completedAt: null,
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: getNextId(),
      userId: 'local',
      name: 'High priority demo task',
      description: 'Example description for a high priority task.',
      priority: 'high',
      ease: 'medium',
      enjoyment: 'medium',
      time: 'low',
      parentId: null,
      status: 'open',
      inProgressTime: 0,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 60_000),
      completedAt: null,
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: getNextId(),
      userId: 'local',
      name: 'Easy demo task',
      description: 'Example description for an easy task.',
      priority: 'medium',
      ease: 'easy',
      enjoyment: 'high',
      time: 'low',
      parentId: null,
      status: 'open',
      inProgressTime: 0,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 120_000),
      completedAt: null,
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: getNextId(),
      userId: 'local',
      name: 'Funnest demo task!',
      description: 'Example description. This task is very enjoyable!',
      priority: 'low',
      ease: 'easy',
      enjoyment: 'highest',
      time: 'lowest',
      parentId: null,
      status: 'open',
      inProgressTime: 0,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 180_000),
      completedAt: null,
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: parentWithSubtasksId,
      userId: 'local',
      name: 'Demo task with subtasks',
      description:
        'This task has nested subtasks to show how you can break down complex work.',
      priority: 'medium',
      ease: 'medium',
      enjoyment: 'medium',
      time: 'high',
      parentId: null,
      status: 'open',
      inProgressTime: 0,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 240_000),
      completedAt: null,
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: researchSubtaskId,
      userId: 'local',
      name: 'Research options',
      description: 'Look into different approaches',
      priority: 'medium',
      ease: 'easy',
      enjoyment: 'medium',
      time: 'low',
      parentId: parentWithSubtasksId,
      status: 'open',
      inProgressTime: 0,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 50_000),
      completedAt: null,
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: getNextId(),
      userId: 'local',
      name: 'Compare pricing tiers',
      description: 'A sub-subtask showing 3 levels of nesting',
      priority: 'low',
      ease: 'easiest',
      enjoyment: 'medium',
      time: 'lowest',
      parentId: researchSubtaskId,
      status: 'open',
      inProgressTime: 0,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 45_000),
      completedAt: null,
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: getNextId(),
      userId: 'local',
      name: 'Draft initial plan',
      description: 'Write up the first draft',
      priority: 'medium',
      ease: 'medium',
      enjoyment: 'high',
      time: 'medium',
      parentId: parentWithSubtasksId,
      status: 'open',
      inProgressTime: 0,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 40_000),
      completedAt: null,
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: getNextId(),
      userId: 'local',
      name: 'Review and finalize',
      description: 'Get feedback and make final edits',
      priority: 'low',
      ease: 'easy',
      enjoyment: 'medium',
      time: 'low',
      parentId: parentWithSubtasksId,
      status: 'open',
      inProgressTime: 0,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 30_000),
      completedAt: null,
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: getNextId(),
      userId: 'local',
      name: 'Completed subtask',
      description:
        'This subtask has been completed and stays under its parent.',
      priority: 'medium',
      ease: 'easy',
      enjoyment: 'high',
      time: 'low',
      parentId: parentWithSubtasksId,
      status: 'completed',
      inProgressTime: 300_000,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 100_000),
      completedAt: new Date(now.getTime() - 20_000),
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: getNextId(),
      userId: 'local',
      name: 'Completed demo task',
      description: 'This task has already been finished.',
      priority: 'medium',
      ease: 'easiest',
      enjoyment: 'high',
      time: 'lowest',
      parentId: null,
      status: 'completed',
      inProgressTime: 9_000_000,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 300_000),
      completedAt: new Date(now.getTime() - 10_000),
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: completedWithSubtaskId,
      userId: 'local',
      name: 'Completed task with subtask',
      description: 'A completed root task that has a completed subtask.',
      priority: 'high',
      ease: 'medium',
      enjoyment: 'medium',
      time: 'medium',
      parentId: null,
      status: 'completed',
      inProgressTime: 1_800_000,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 400_000),
      completedAt: new Date(now.getTime() - 5000),
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
    {
      id: getNextId(),
      userId: 'local',
      name: 'Completed child task',
      description: 'A subtask that was completed along with its parent.',
      priority: 'medium',
      ease: 'easy',
      enjoyment: 'high',
      time: 'low',
      parentId: completedWithSubtaskId,
      status: 'completed',
      inProgressTime: 600_000,
      inProgressStartedAt: null,
      createdAt: new Date(now.getTime() - 350_000),
      completedAt: new Date(now.getTime() - 8000),
      subtaskSortMode: 'inherit',
      manualOrder: 0,
      subtasks: [],
    },
  ]

  return demoTasks
}
